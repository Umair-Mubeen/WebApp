<style>
    #tableContainer {
    display: block; /* Default state */
}

#graphContainer {
    display: none; /* Default state */
}


</style>
{% load static %}
{% include 'reusable.html' %}
<title>RTO - II, Dashboard</title>
<body class="sidebar-mini layout-fixed sidebar-collapse">
<div class="wrapper">

    <!-- Navbar Starts Here -->
    {% include 'navbar.html' %}
    <!-- /.Navbar Ends Here -->
    <!-- SideBar Start Here  -->
    {% include 'sidebar.html' %}
    <!-- SideBar Ends Here  -->

    <!-- Content Wrapper. Contains page content -->
    <div class="content-wrapper">
        <!-- Content Header (Page header) -->
        <div class="content-header">
            <div class="container-fluid">
                <div class="row mb-2">
                    <div class="col-sm-6">
                        <h1 class="m-0">Regional Tax Office - II</h1>
                    </div><!-- /.col -->
                    <div class="col-sm-6">
                        <ol class="breadcrumb float-sm-right">
                            <li class="breadcrumb-item"><a href="#" style="color:black"><i class="fa fa-home"></i></a>
                            </li>
                            <li class="breadcrumb-item active">Dashboard</li>
                        </ol>
                    </div><!-- /.col -->
                </div><!-- /.row -->
            </div><!-- /.container-fluid -->
        </div>
        <!-- /.content-header -->

        <!-- Main content -->
        <section class="content">
            <div class="container-fluid">
                {% include 'icons.html' %}
            </div>


        </section>

        <div class="container-fluid">
            <div class="row">
                <div class="col-lg-4 offset-lg-8">
                    <select id="viewToggle" class="form-control">
                        <option value="graph">Graph</option>
                        <option value="table">Table</option>
                    </select>
                </div>
            </div>

        </div>
        <div class="container-fluid" id="tableContainer" style="padding-top:20px; display:none">
            {% include 'retired.html' with retired=retired type=label count_leave_individuals=count_leave_individuals %}
        </div>
        <div class="container-fluid" id="graphContainer" style="display: none;padding-top:20px;">
            {% include 'graph.html' with results=results counts=counts zones=zones Comparison=Comparison leave_summary=leave_summary %}
        </div>


    </div>
    <!-- Content Wrapper. Contains page content  Ends Here -->


</div>
<!-- /.content-wrapper -->


{% include 'footer.html' %}

</div>

</body>

<div class="row">

    {% if message %}

    <script>


        // SweetAlert configuration
        Swal.fire({
            title: "{{ title }}",
            text: "{{ message }}",
            icon: "{{ icon }}",
            toast: true,  // Enables toast mode for smaller alert
            position: 'top-end',  // Position it at the top right
            showConfirmButton: false,  // Hides the "OK" button
            timer: 3000,  // Auto close after 3 seconds
            timerProgressBar: true,  // Adds a progress bar to the timer
            didOpen: () => {
                // Delay Select2 initialization to avoid conflicts
                setTimeout(() => {
                }, 1000);
            }
        });






    </script>
    {% endif %}
</div>

<script>
        $(document).ready(function() {
            $('#viewToggle').select2();  // Initialize Select2
        });
    </script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
    const viewToggle = $('#viewToggle');  // Use jQuery to select the element
    const tableContainer = document.getElementById('tableContainer');
    const graphContainer = document.getElementById('graphContainer');

    // Function to update the visibility of the containers
    function updateView() {
        const selectedValue = viewToggle.val(); // Get the selected value from Select2
        if (selectedValue === 'table') {
            tableContainer.style.display = 'block';
            graphContainer.style.display = 'none';
        } else if (selectedValue === 'graph') {
            tableContainer.style.display = 'none';
            graphContainer.style.display = 'block';
        } else {
            tableContainer.style.display = 'none';
            graphContainer.style.display = 'none';
        }
    }

    // Attach event listener to the Select2 dropdown
    viewToggle.on('change', updateView);

    // Initialize the view based on the default dropdown value
    updateView();
});


</script>